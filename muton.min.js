!function(t,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.muton=r():t.muton=r()}(this,function(){return function(t){function r(e){if(n[e])return n[e].exports;var o=n[e]={exports:{},id:e,loaded:!1};return t[e].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var n={};return r.m=t,r.c=n,r.p="",r(0)}([function(t,r,n){function e(t,r){t.toggles=c(r,function(t,r){return t[r.name]=r.toggle,t},t.toggles)}function o(t,r){var n=f(r,{type:"bucket"}),e=a("name",n);t.buckets=t.buckets.concat(e)}function u(t,r){var n=f(r,{type:"throttle"}),e=a("name",n);t.throttles=t.throttles.concat(e)}function i(t,r){e(t,r),o(t,r),u(t,r)}var c=n(1),f=n(50),a=n(53),s=n(57),l=n(60),p=n(62),v=n(99),g=n(105),x={getFeatureMutations:function(t,r){return this.getMutations(t,r).toggles},getMutations:function(t,r){return this.inheritMutations(t,r,{})},inheritMutations:function(t,r,n){var e={toggles:{},buckets:[],throttles:[]};return g.checkFeatureInstructions(r),s(r,function(r,o){var u=l.breakProperties(t,r),c=p.preparePrimer(t,r,u,!0),f=v.assembleFeatures(o,c,n);i(e,f)}),e}};t.exports=x},function(t,r,n){var e=n(2),o=n(3),u=n(24),i=u(e,o);t.exports=i},function(t,r){function n(t,r,n,e){var o=-1,u=t.length;for(e&&u&&(n=t[++o]);++o<u;)n=r(n,t[o],o,t);return n}t.exports=n},function(t,r,n){var e=n(4),o=n(23),u=o(e);t.exports=u},function(t,r,n){function e(t,r){return o(t,r,u)}var o=n(5),u=n(9);t.exports=e},function(t,r,n){var e=n(6),o=e();t.exports=o},function(t,r,n){function e(t){return function(r,n,e){for(var u=o(r),i=e(r),c=i.length,f=t?c:-1;t?f--:++f<c;){var a=i[f];if(n(u[a],a,u)===!1)break}return r}}var o=n(7);t.exports=e},function(t,r,n){function e(t){return o(t)?t:Object(t)}var o=n(8);t.exports=e},function(t,r){function n(t){var r=typeof t;return!!t&&("object"==r||"function"==r)}t.exports=n},function(t,r,n){var e=n(10),o=n(14),u=n(8),i=n(18),c=e(Object,"keys"),f=c?function(t){var r=null==t?void 0:t.constructor;return"function"==typeof r&&r.prototype===t||"function"!=typeof t&&o(t)?i(t):u(t)?c(t):[]}:i;t.exports=f},function(t,r,n){function e(t,r){var n=null==t?void 0:t[r];return o(n)?n:void 0}var o=n(11);t.exports=e},function(t,r,n){function e(t){return null==t?!1:o(t)?s.test(f.call(t)):u(t)&&i.test(t)}var o=n(12),u=n(13),i=/^\[object .+?Constructor\]$/,c=Object.prototype,f=Function.prototype.toString,a=c.hasOwnProperty,s=RegExp("^"+f.call(a).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=e},function(t,r,n){function e(t){return o(t)&&c.call(t)==u}var o=n(8),u="[object Function]",i=Object.prototype,c=i.toString;t.exports=e},function(t,r){function n(t){return!!t&&"object"==typeof t}t.exports=n},function(t,r,n){function e(t){return null!=t&&u(o(t))}var o=n(15),u=n(17);t.exports=e},function(t,r,n){var e=n(16),o=e("length");t.exports=o},function(t,r){function n(t){return function(r){return null==r?void 0:r[t]}}t.exports=n},function(t,r){function n(t){return"number"==typeof t&&t>-1&&t%1==0&&e>=t}var e=9007199254740991;t.exports=n},function(t,r,n){function e(t){for(var r=f(t),n=r.length,e=n&&t.length,a=!!e&&c(e)&&(u(t)||o(t)),l=-1,p=[];++l<n;){var v=r[l];(a&&i(v,e)||s.call(t,v))&&p.push(v)}return p}var o=n(19),u=n(20),i=n(21),c=n(17),f=n(22),a=Object.prototype,s=a.hasOwnProperty;t.exports=e},function(t,r,n){function e(t){return u(t)&&o(t)&&c.call(t,"callee")&&!f.call(t,"callee")}var o=n(14),u=n(13),i=Object.prototype,c=i.hasOwnProperty,f=i.propertyIsEnumerable;t.exports=e},function(t,r,n){var e=n(10),o=n(17),u=n(13),i="[object Array]",c=Object.prototype,f=c.toString,a=e(Array,"isArray"),s=a||function(t){return u(t)&&o(t.length)&&f.call(t)==i};t.exports=s},function(t,r){function n(t,r){return t="number"==typeof t||e.test(t)?+t:-1,r=null==r?o:r,t>-1&&t%1==0&&r>t}var e=/^\d+$/,o=9007199254740991;t.exports=n},function(t,r,n){function e(t){if(null==t)return[];f(t)||(t=Object(t));var r=t.length;r=r&&c(r)&&(u(t)||o(t))&&r||0;for(var n=t.constructor,e=-1,a="function"==typeof n&&n.prototype===t,l=Array(r),p=r>0;++e<r;)l[e]=e+"";for(var v in t)p&&i(v,r)||"constructor"==v&&(a||!s.call(t,v))||l.push(v);return l}var o=n(19),u=n(20),i=n(21),c=n(17),f=n(8),a=Object.prototype,s=a.hasOwnProperty;t.exports=e},function(t,r,n){function e(t,r){return function(n,e){var c=n?o(n):0;if(!u(c))return t(n,e);for(var f=r?c:-1,a=i(n);(r?f--:++f<c)&&e(a[f],f,a)!==!1;);return n}}var o=n(15),u=n(17),i=n(7);t.exports=e},function(t,r,n){function e(t,r){return function(n,e,c,f){var a=arguments.length<3;return"function"==typeof e&&void 0===f&&i(n)?t(n,e,c,a):u(n,o(e,f,4),c,a,r)}}var o=n(25),u=n(49),i=n(20);t.exports=e},function(t,r,n){function e(t,r,n){var e=typeof t;return"function"==e?void 0===r?t:i(t,r,n):null==t?c:"object"==e?o(t):void 0===r?f(t):u(t,r)}var o=n(26),u=n(38),i=n(45),c=n(46),f=n(47);t.exports=e},function(t,r,n){function e(t){var r=u(t);if(1==r.length&&r[0][2]){var n=r[0][0],e=r[0][1];return function(t){return null==t?!1:t[n]===e&&(void 0!==e||n in i(t))}}return function(t){return o(t,r)}}var o=n(27),u=n(35),i=n(7);t.exports=e},function(t,r,n){function e(t,r,n){var e=r.length,i=e,c=!n;if(null==t)return!i;for(t=u(t);e--;){var f=r[e];if(c&&f[2]?f[1]!==t[f[0]]:!(f[0]in t))return!1}for(;++e<i;){f=r[e];var a=f[0],s=t[a],l=f[1];if(c&&f[2]){if(void 0===s&&!(a in t))return!1}else{var p=n?n(s,l,a):void 0;if(!(void 0===p?o(l,s,n,!0):p))return!1}}return!0}var o=n(28),u=n(7);t.exports=e},function(t,r,n){function e(t,r,n,c,f,a){return t===r?!0:null==t||null==r||!u(t)&&!i(r)?t!==t&&r!==r:o(t,r,e,n,c,f,a)}var o=n(29),u=n(8),i=n(13);t.exports=e},function(t,r,n){function e(t,r,n,e,p,x,h){var b=c(t),y=c(r),d=s,m=s;b||(d=g.call(t),d==a?d=l:d!=l&&(b=f(t))),y||(m=g.call(r),m==a?m=l:m!=l&&(y=f(r)));var j=d==l,O=m==l,k=d==m;if(k&&!b&&!j)return u(t,r,d);if(!p){var P=j&&v.call(t,"__wrapped__"),A=O&&v.call(r,"__wrapped__");if(P||A)return n(P?t.value():t,A?r.value():r,e,p,x,h)}if(!k)return!1;x||(x=[]),h||(h=[]);for(var w=x.length;w--;)if(x[w]==t)return h[w]==r;x.push(t),h.push(r);var V=(b?o:i)(t,r,n,e,p,x,h);return x.pop(),h.pop(),V}var o=n(30),u=n(32),i=n(33),c=n(20),f=n(34),a="[object Arguments]",s="[object Array]",l="[object Object]",p=Object.prototype,v=p.hasOwnProperty,g=p.toString;t.exports=e},function(t,r,n){function e(t,r,n,e,u,i,c){var f=-1,a=t.length,s=r.length;if(a!=s&&!(u&&s>a))return!1;for(;++f<a;){var l=t[f],p=r[f],v=e?e(u?p:l,u?l:p,f):void 0;if(void 0!==v){if(v)continue;return!1}if(u){if(!o(r,function(t){return l===t||n(l,t,e,u,i,c)}))return!1}else if(l!==p&&!n(l,p,e,u,i,c))return!1}return!0}var o=n(31);t.exports=e},function(t,r){function n(t,r){for(var n=-1,e=t.length;++n<e;)if(r(t[n],n,t))return!0;return!1}t.exports=n},function(t,r){function n(t,r,n){switch(n){case e:case o:return+t==+r;case u:return t.name==r.name&&t.message==r.message;case i:return t!=+t?r!=+r:t==+r;case c:case f:return t==r+""}return!1}var e="[object Boolean]",o="[object Date]",u="[object Error]",i="[object Number]",c="[object RegExp]",f="[object String]";t.exports=n},function(t,r,n){function e(t,r,n,e,u,c,f){var a=o(t),s=a.length,l=o(r),p=l.length;if(s!=p&&!u)return!1;for(var v=s;v--;){var g=a[v];if(!(u?g in r:i.call(r,g)))return!1}for(var x=u;++v<s;){g=a[v];var h=t[g],b=r[g],y=e?e(u?b:h,u?h:b,g):void 0;if(!(void 0===y?n(h,b,e,u,c,f):y))return!1;x||(x="constructor"==g)}if(!x){var d=t.constructor,m=r.constructor;if(d!=m&&"constructor"in t&&"constructor"in r&&!("function"==typeof d&&d instanceof d&&"function"==typeof m&&m instanceof m))return!1}return!0}var o=n(9),u=Object.prototype,i=u.hasOwnProperty;t.exports=e},function(t,r,n){function e(t){return u(t)&&o(t.length)&&!!E[S.call(t)]}var o=n(17),u=n(13),i="[object Arguments]",c="[object Array]",f="[object Boolean]",a="[object Date]",s="[object Error]",l="[object Function]",p="[object Map]",v="[object Number]",g="[object Object]",x="[object RegExp]",h="[object Set]",b="[object String]",y="[object WeakMap]",d="[object ArrayBuffer]",m="[object Float32Array]",j="[object Float64Array]",O="[object Int8Array]",k="[object Int16Array]",P="[object Int32Array]",A="[object Uint8Array]",w="[object Uint8ClampedArray]",V="[object Uint16Array]",R="[object Uint32Array]",E={};E[m]=E[j]=E[O]=E[k]=E[P]=E[A]=E[w]=E[V]=E[R]=!0,E[i]=E[c]=E[d]=E[f]=E[a]=E[s]=E[l]=E[p]=E[v]=E[g]=E[x]=E[h]=E[b]=E[y]=!1;var M=Object.prototype,S=M.toString;t.exports=e},function(t,r,n){function e(t){for(var r=u(t),n=r.length;n--;)r[n][2]=o(r[n][1]);return r}var o=n(36),u=n(37);t.exports=e},function(t,r,n){function e(t){return t===t&&!o(t)}var o=n(8);t.exports=e},function(t,r,n){function e(t){t=u(t);for(var r=-1,n=o(t),e=n.length,i=Array(e);++r<e;){var c=n[r];i[r]=[c,t[c]]}return i}var o=n(9),u=n(7);t.exports=e},function(t,r,n){function e(t,r){var n=c(t),e=f(t)&&a(r),v=t+"";return t=p(t),function(c){if(null==c)return!1;var f=v;if(c=l(c),(n||!e)&&!(f in c)){if(c=1==t.length?c:o(c,i(t,0,-1)),null==c)return!1;f=s(t),c=l(c)}return c[f]===r?void 0!==r||f in c:u(r,c[f],void 0,!0)}}var o=n(39),u=n(28),i=n(40),c=n(20),f=n(41),a=n(36),s=n(42),l=n(7),p=n(43);t.exports=e},function(t,r,n){function e(t,r,n){if(null!=t){void 0!==n&&n in o(t)&&(r=[n]);for(var e=0,u=r.length;null!=t&&u>e;)t=t[r[e++]];return e&&e==u?t:void 0}}var o=n(7);t.exports=e},function(t,r){function n(t,r,n){var e=-1,o=t.length;r=null==r?0:+r||0,0>r&&(r=-r>o?0:o+r),n=void 0===n||n>o?o:+n||0,0>n&&(n+=o),o=r>n?0:n-r>>>0,r>>>=0;for(var u=Array(o);++e<o;)u[e]=t[e+r];return u}t.exports=n},function(t,r,n){function e(t,r){var n=typeof t;if("string"==n&&c.test(t)||"number"==n)return!0;if(o(t))return!1;var e=!i.test(t);return e||null!=r&&t in u(r)}var o=n(20),u=n(7),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,c=/^\w*$/;t.exports=e},function(t,r){function n(t){var r=t?t.length:0;return r?t[r-1]:void 0}t.exports=n},function(t,r,n){function e(t){if(u(t))return t;var r=[];return o(t).replace(i,function(t,n,e,o){r.push(e?o.replace(c,"$1"):n||t)}),r}var o=n(44),u=n(20),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,c=/\\(\\)?/g;t.exports=e},function(t,r){function n(t){return null==t?"":t+""}t.exports=n},function(t,r,n){function e(t,r,n){if("function"!=typeof t)return o;if(void 0===r)return t;switch(n){case 1:return function(n){return t.call(r,n)};case 3:return function(n,e,o){return t.call(r,n,e,o)};case 4:return function(n,e,o,u){return t.call(r,n,e,o,u)};case 5:return function(n,e,o,u,i){return t.call(r,n,e,o,u,i)}}return function(){return t.apply(r,arguments)}}var o=n(46);t.exports=e},function(t,r){function n(t){return t}t.exports=n},function(t,r,n){function e(t){return i(t)?o(t):u(t)}var o=n(16),u=n(48),i=n(41);t.exports=e},function(t,r,n){function e(t){var r=t+"";return t=u(t),function(n){return o(n,t,r)}}var o=n(39),u=n(43);t.exports=e},function(t,r){function n(t,r,n,e,o){return o(t,function(t,o,u){n=e?(e=!1,t):r(n,t,o,u)}),n}t.exports=n},function(t,r,n){function e(t,r,n){var e=c(t)?o:i;return r=u(r,n,3),e(t,r)}var o=n(51),u=n(25),i=n(52),c=n(20);t.exports=e},function(t,r){function n(t,r){for(var n=-1,e=t.length,o=-1,u=[];++n<e;){var i=t[n];r(i,n,t)&&(u[++o]=i)}return u}t.exports=n},function(t,r,n){function e(t,r){var n=[];return o(t,function(t,e,o){r(t,e,o)&&n.push(t)}),n}var o=n(3);t.exports=e},function(t,r,n){function e(t,r){return o(t,u(r))}var o=n(54),u=n(47);t.exports=e},function(t,r,n){function e(t,r,n){var e=c(t)?o:i;return r=u(r,n,3),e(t,r)}var o=n(55),u=n(25),i=n(56),c=n(20);t.exports=e},function(t,r){function n(t,r){for(var n=-1,e=t.length,o=Array(e);++n<e;)o[n]=r(t[n],n,t);return o}t.exports=n},function(t,r,n){function e(t,r){var n=-1,e=u(t)?Array(t.length):[];return o(t,function(t,o,u){e[++n]=r(t,o,u)}),e}var o=n(3),u=n(14);t.exports=e},function(t,r,n){var e=n(58),o=n(3),u=n(59),i=u(e,o);t.exports=i},function(t,r){function n(t,r){for(var n=-1,e=t.length;++n<e&&r(t[n],n,t)!==!1;);return t}t.exports=n},function(t,r,n){function e(t,r){return function(n,e,i){return"function"==typeof e&&void 0===i&&u(n)?t(n,e):r(n,o(e,i,3))}}var o=n(45),u=n(20);t.exports=e},function(t,r,n){"use strict";var e=n(61);t.exports={breakProperties:function(t,r){return e.separateProperties(t,r)}}},function(t,r,n){"use strict";var e=n(9);t.exports={separateProperties:function(t,r){return{userPropertyNames:e(t),featurePropertyNames:e(r)}}}},function(t,r,n){"use strict";function e(t){return l(t,["toggle","throttle","buckets"])}function o(t,r){var n=e(r);p(t,n)}function u(t,r){var n=s(t,"toggle");return r&&n===!1}function i(t){return v(t,"toggle")||v(t,"throttle")||v(t,"buckets")}function c(t,r){return g(t)?r:t}function f(t,r,n){var e=n[r],o=t[r],u=b.getMatchedProperties(o,e);return c(u,e)}function a(t,r){p(t,r)}var s=n(63),l=n(64),p=n(71),v=n(80),g=n(81),x=n(82),h=n(61),b=n(89);t.exports={preparePrimer:function(t,r,n,e){var c=this,s={},l=n.userPropertyNames,p=n.featurePropertyNames;return i(r)&&o(s,r),u(s,e)||p.forEach(function(n){if(x(l,n)){var e=f(t,n,r),o=h.separateProperties(t,e),u=c.preparePrimer(t,e,o);a(s,u)}}),s}}},function(t,r,n){function e(t,r,n){var e=null==t?void 0:o(t,u(r),r+"");return void 0===e?n:e}var o=n(39),u=n(43);t.exports=e},function(t,r,n){var e=n(65),o=n(45),u=n(67),i=n(68),c=n(70),f=c(function(t,r){return null==t?{}:"function"==typeof r[0]?i(t,o(r[0],r[1],3)):u(t,e(r))});t.exports=f},function(t,r,n){function e(t,r,n,a){a||(a=[]);for(var s=-1,l=t.length;++s<l;){var p=t[s];f(p)&&c(p)&&(n||i(p)||u(p))?r?e(p,r,n,a):o(a,p):n||(a[a.length]=p)}return a}var o=n(66),u=n(19),i=n(20),c=n(14),f=n(13);t.exports=e},function(t,r){function n(t,r){for(var n=-1,e=r.length,o=t.length;++n<e;)t[o+n]=r[n];return t}t.exports=n},function(t,r,n){function e(t,r){t=o(t);for(var n=-1,e=r.length,u={};++n<e;){var i=r[n];i in t&&(u[i]=t[i])}return u}var o=n(7);t.exports=e},function(t,r,n){function e(t,r){var n={};return o(t,function(t,e,o){r(t,e,o)&&(n[e]=t)}),n}var o=n(69);t.exports=e},function(t,r,n){function e(t,r){return o(t,r,u)}var o=n(5),u=n(22);t.exports=e},function(t,r){function n(t,r){if("function"!=typeof t)throw new TypeError(e);return r=o(void 0===r?t.length-1:+r||0,0),function(){for(var n=arguments,e=-1,u=o(n.length-r,0),i=Array(u);++e<u;)i[e]=n[r+e];switch(r){case 0:return t.call(this,i);case 1:return t.call(this,n[0],i);case 2:return t.call(this,n[0],n[1],i)}var c=Array(r+1);for(e=-1;++e<r;)c[e]=n[e];return c[r]=i,t.apply(this,c)}}var e="Expected a function",o=Math.max;t.exports=n},function(t,r,n){var e=n(72),o=n(78),u=o(e);t.exports=u},function(t,r,n){function e(t,r,n,p,v){if(!f(t))return t;var g=c(r)&&(i(r)||s(r)),x=g?void 0:l(r);return o(x||r,function(o,i){if(x&&(i=o,o=r[i]),a(o))p||(p=[]),v||(v=[]),u(t,r,i,e,n,p,v);else{var c=t[i],f=n?n(c,o,i,t,r):void 0,s=void 0===f;s&&(f=o),void 0===f&&(!g||i in t)||!s&&(f===f?f===c:c!==c)||(t[i]=f)}}),t}var o=n(58),u=n(73),i=n(20),c=n(14),f=n(8),a=n(13),s=n(34),l=n(9);t.exports=e},function(t,r,n){function e(t,r,n,e,l,p,v){for(var g=p.length,x=r[n];g--;)if(p[g]==x)return void(t[n]=v[g]);var h=t[n],b=l?l(h,x,n,t,r):void 0,y=void 0===b;y&&(b=x,c(x)&&(i(x)||a(x))?b=i(h)?h:c(h)?o(h):[]:f(x)||u(x)?b=u(h)?s(h):f(h)?h:{}:y=!1),p.push(x),v.push(b),y?t[n]=e(b,x,l,p,v):(b===b?b!==h:h===h)&&(t[n]=b)}var o=n(74),u=n(19),i=n(20),c=n(14),f=n(75),a=n(34),s=n(76);t.exports=e},function(t,r){function n(t,r){var n=-1,e=t.length;for(r||(r=Array(e));++n<e;)r[n]=t[n];return r}t.exports=n},function(t,r,n){function e(t){var r;if(!i(t)||s.call(t)!=c||u(t)||!a.call(t,"constructor")&&(r=t.constructor,"function"==typeof r&&!(r instanceof r)))return!1;var n;return o(t,function(t,r){n=r}),void 0===n||a.call(t,n)}var o=n(69),u=n(19),i=n(13),c="[object Object]",f=Object.prototype,a=f.hasOwnProperty,s=f.toString;t.exports=e},function(t,r,n){function e(t){return o(t,u(t))}var o=n(77),u=n(22);t.exports=e},function(t,r){function n(t,r,n){n||(n={});for(var e=-1,o=r.length;++e<o;){var u=r[e];n[u]=t[u]}return n}t.exports=n},function(t,r,n){function e(t){return i(function(r,n){var e=-1,i=null==r?0:n.length,c=i>2?n[i-2]:void 0,f=i>2?n[2]:void 0,a=i>1?n[i-1]:void 0;for("function"==typeof c?(c=o(c,a,5),i-=2):(c="function"==typeof a?a:void 0,i-=c?1:0),f&&u(n[0],n[1],f)&&(c=3>i?void 0:c,i=1);++e<i;){var s=n[e];s&&t(r,s,c)}return r})}var o=n(45),u=n(79),i=n(70);t.exports=e},function(t,r,n){function e(t,r,n){if(!i(n))return!1;var e=typeof r;if("number"==e?o(n)&&u(r,n.length):"string"==e&&r in n){var c=n[r];return t===t?t===c:c!==c}return!1}var o=n(14),u=n(21),i=n(8);t.exports=e},function(t,r,n){function e(t,r){if(null==t)return!1;var n=g.call(t,r);if(!n&&!a(r)){if(r=p(r),t=1==r.length?t:o(t,u(r,0,-1)),null==t)return!1;r=l(r),n=g.call(t,r)}return n||s(t.length)&&f(r,t.length)&&(c(t)||i(t))}var o=n(39),u=n(40),i=n(19),c=n(20),f=n(21),a=n(41),s=n(17),l=n(42),p=n(43),v=Object.prototype,g=v.hasOwnProperty;t.exports=e},function(t,r){function n(t){return void 0===t}t.exports=n},function(t,r,n){t.exports=n(83)},function(t,r,n){function e(t,r,n,e){var p=t?u(t):0;return f(p)||(t=s(t),p=t.length),n="number"!=typeof n||e&&c(r,n,e)?0:0>n?l(p+n,0):n||0,"string"==typeof t||!i(t)&&a(t)?p>=n&&t.indexOf(r,n)>-1:!!p&&o(t,r,n)>-1}var o=n(84),u=n(15),i=n(20),c=n(79),f=n(17),a=n(86),s=n(87),l=Math.max;t.exports=e},function(t,r,n){function e(t,r,n){if(r!==r)return o(t,n);for(var e=n-1,u=t.length;++e<u;)if(t[e]===r)return e;return-1}var o=n(85);t.exports=e},function(t,r){function n(t,r,n){for(var e=t.length,o=r+(n?0:-1);n?o--:++o<e;){var u=t[o];if(u!==u)return o}return-1}t.exports=n},function(t,r,n){function e(t){return"string"==typeof t||o(t)&&c.call(t)==u}var o=n(13),u="[object String]",i=Object.prototype,c=i.toString;t.exports=e},function(t,r,n){function e(t){return o(t,u(t))}var o=n(88),u=n(9);t.exports=e},function(t,r){function n(t,r){for(var n=-1,e=r.length,o=Array(e);++n<e;)o[n]=t[r[n]];return o}t.exports=n},function(t,r,n){"use strict";function e(t,r){return u.isRegex(r)?u:i.isNumber(t)&&i.isNumericQuantifier(r)?i:c}var o=n(90),u=n(97),i=n(98),c={matchesPropertyValue:function(t,r){return t===r}};t.exports={getMatchedProperties:function(t,r){return o(r,function(r,n){var o=e(t,n);return o.matchesPropertyValue(t,n)})}}},function(t,r,n){var e=n(91),o=n(94),u=o(e,!0);t.exports=u},function(t,r,n){var e=n(92),o=n(23),u=o(e,!0);t.exports=u},function(t,r,n){function e(t,r){return o(t,r,u)}var o=n(93),u=n(9);t.exports=e},function(t,r,n){var e=n(6),o=e(!0);t.exports=o},function(t,r,n){function e(t,r){return function(n,e,f){if(e=o(e,f,3),c(n)){var a=i(n,e,r);return a>-1?n[a]:void 0}return u(n,e,t)}}var o=n(25),u=n(95),i=n(96),c=n(20);t.exports=e},function(t,r){function n(t,r,n,e){var o;return n(t,function(t,n,u){return r(t,n,u)?(o=e?n:t,!1):void 0}),o}t.exports=n},function(t,r){function n(t,r,n){for(var e=t.length,o=n?e:-1;n?o--:++o<e;)if(r(t[o],o,t))return o;return-1}t.exports=n},function(t,r){"use strict";function n(t){return t.substring(1,t.length-1)}var e=/^\/.+\/$/;t.exports={isRegex:function(t){return e.test(t)},matchesPropertyValue:function(t,r){var e=n(r),o=new RegExp("^"+e+"$");return o.test(t)}}},function(module,exports){"use strict";function isExpressionValid(t){return validExpressionRegex.test(t)}var numberRegex=/-?\d+(\.\d{1,2})?/,operatorRegex=/[><]=?/,numericQuantifierRegex=new RegExp(operatorRegex.source+numberRegex.source),validExpressionRegex=new RegExp(numberRegex.source+operatorRegex.source+numberRegex.source);module.exports={isNumber:function(t){return numberRegex.test(t)},isNumericQuantifier:function(t){return numericQuantifierRegex.test(t)},matchesPropertyValue:function(propertyValue,numericQuantifierStr){var expression=propertyValue+numericQuantifierStr;return isExpressionValid(expression)?eval(expression):!1}}},function(t,r,n){"use strict";function e(t,r,n){return t.push(c({name:r},n))}function o(t,r){var n={type:"toggle",toggle:!1};return t.toggle!==!1&&(a.isThrottleValid(t.throttle)?(n.toggle=a.mutate(t.throttle,r),n.type="throttle"):t.toggle===!0&&(n.toggle=!0)),n}function u(t,r){return t.toggle&&f.containsMultivariant(r)}function i(t,r,n,o,u){var i=f.mutate(n,u),c={toggle:o.toggle,type:"bucket"};e(t,r+"."+i,c)}var c=n(71),f=n(100),a=n(102),s=n(103),l=n(105);t.exports={assembleFeatures:function(t,r,n){var c=[];if(l.areInstructionsValid(r)){var f=s.pairGene(n,t),a=o(r,f);e(c,t,a),u(a,r)&&i(c,t,r,a,f)}else e(c,t,{toggle:!1,type:"toggle"});return c}}},function(t,r,n){"use strict";function e(t){if(!i(t))throw"Not an array!";var r=Math.floor(Math.random()*t.length);return t[r]}function o(t){return!c(t)&&"bucket"===t.type}function u(t,r){return f(t.buckets,r.toggle)}var i=n(20),c=n(101),f=n(83);t.exports={mutate:function(t,r){return o(r)&&u(t,r)?r.toggle:e(t.buckets)},containsMultivariant:function(t){return this.isBucketListValid(t.buckets)},isBucketListValid:function(t){return i(t)&&t.length>=0}}},function(t,r,n){function e(t){return null==t?!0:i(t)&&(u(t)||a(t)||o(t)||f(t)&&c(t.splice))?!t.length:!s(t).length}var o=n(19),u=n(20),i=n(14),c=n(12),f=n(13),a=n(86),s=n(9);t.exports=e},function(t,r,n){"use strict";function e(t){return!s(t)&&l(t)&&t.match(/[0-100]%/)}function o(t){return p(t)&&l(t.value)&&e(t.value)}function u(t){var r;return r=o(t)?t.value:t}function i(t){var r=u(t),n=r.substr(0,r.length-2);return n/10}function c(t){return o(t)||e(t)}function f(t){return!v(t)&&"throttle"===t.type}function a(t){return!s(t.mutate)&&"force"===t.mutate}var s=n(81),l=n(86),p=n(75),v=n(101);t.exports={mutate:function(t,r){if(!a(t)&&f(r))return r.toggle;var n=i(t);return Math.random()<n},isThrottleValid:function(t){return c(t)}}},function(t,r,n){"use strict";function e(t,r){return s(t,function(t){return 0===t.indexOf(r)})}function o(t,r){return e(t,r).length>0}function u(t,r){return o(p(t.toggles),r)}function i(t,r){return o(t.buckets,r)}function c(t,r){return o(t.throttles,r)}function f(t){var r=t.indexOf(".");return r>=0?t.substring(r+1):""}function a(t,r){var n=e(t.buckets,r),o=l(n,function(r){return t.toggles[r]});return v(o)?f(o):""}var s=n(50),l=n(104),p=n(9),v=n(86);t.exports={pairGene:function(t,r){var n={};if(u(t,r)){var e="toggle",o=t.toggles[r];i(t,r)?(e="bucket",o=a(t,r)):c(t,r)&&(e="throttle"),n.toggle=o,n.type=e}return n}}},function(t,r,n){var e=n(3),o=n(94),u=o(e);t.exports=u},function(t,r,n){"use strict";var e=n(63),o=n(81),u=n(106),i=n(107),c=n(20),f=n(8),a=n(100),s=n(102);t.exports={areInstructionsValid:function(t){var r=e(t,"toggle"),n=e(t,"throttle"),o=e(t,"buckets");return this.isToggleValid(r)&&this.isThrottleValid(n)&&this.areBucketsValid(o)},isToggleValid:function(t){return o(t)||u(t)},isThrottleValid:function(t){return o(t)||s.isThrottleValid(t)},areBucketsValid:function(t){return o(t)||a.isBucketListValid(t)},checkFeatureInstructions:function(t){var r=o(t)||i(t)||!c(t)&&f(t);if(!r)throw new Error("Invalid feature instructions!")}}},function(t,r,n){function e(t){return t===!0||t===!1||o(t)&&c.call(t)==u}var o=n(13),u="[object Boolean]",i=Object.prototype,c=i.toString;t.exports=e},function(t,r){function n(t){return null===t}t.exports=n}])});